# =============================================================================
# MyHome Production Environment Configuration
# =============================================================================
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to git!

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL="postgresql://postgres:myhome123@postgres:5432/db_myhome?schema=public"

# Database Initialization Mode (for Docker)
# Options:
# - "migrate" (default): Only run migrations (production default)
# - "reset": Reset database and run seed (development/testing) ⚠️ DELETES ALL DATA
# - "init": Run migrations and seed (first deployment)
DB_INIT_MODE="migrate"

# =============================================================================
# NextAuth Configuration
# =============================================================================
# Generate secret: openssl rand -base64 32
NEXTAUTH_URL="https://myhome.co.id"
NEXTAUTH_SECRET="your-nextauth-secret-here-change-in-production-min-32-chars"

# =============================================================================
# Midtrans Payment Gateway Configuration
# =============================================================================
# Get from: https://dashboard.midtrans.com/settings/config_info
MIDTRANS_SERVER_KEY="your-midtrans-server-key"
MIDTRANS_CLIENT_KEY="your-midtrans-client-key"
MIDTRANS_IS_PRODUCTION="false"

# =============================================================================
# Cloudinary Configuration (Image Upload)
# =============================================================================
# Get from: https://cloudinary.com/console
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="your-cloud-name"
NEXT_PUBLIC_CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV="production"
NEXT_TELEMETRY_DISABLED="1"
PORT="3000"
HOST="0.0.0.0"

# =============================================================================
# NOTES
# =============================================================================
# 
# DB_INIT_MODE Usage:
# -------------------
# 
# 1. Production Deployment (Normal):
#    DB_INIT_MODE="migrate"
#    - Only runs migrations
#    - Safe for production
#    - Preserves existing data
# 
# 2. Development/Testing (Reset):
#    DB_INIT_MODE="reset"
#    - ⚠️ DELETES ALL DATA
#    - Resets database to clean state
#    - Runs seed data
#    - Use for testing only
# 
# 3. First Deployment (Initialize):
#    DB_INIT_MODE="init"
#    - Runs migrations
#    - Runs seed data
#    - Use for first deployment
#    - After first deployment, change to "migrate"
# 
# =============================================================================

